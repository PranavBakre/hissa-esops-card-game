/* ===========================================
   ESOP Wars v2 - Client Styles (UI Facelift)
   =========================================== */

/* ===========================================
   Theme Variables
   =========================================== */
:root {
  --bg-base: #F8F9FC;
  --bg-surface: #FFFFFF;
  --bg-surface-raised: #F1F3F9;
  --bg-surface-sunken: #EBEEF5;
  --bg-overlay: rgba(99, 91, 255, 0.04);

  --text-primary: #1A1D2E;
  --text-secondary: #5A5F7A;
  --text-muted: #8B90A8;
  --text-inverse: #FFFFFF;

  --border-subtle: #E4E7F0;
  --border-default: #D1D5E4;
  --border-strong: #B8BDD4;

  /* Vibrant indigo primary */
  --accent-primary: #635BFF;
  --accent-primary-hover: #524AE8;
  --accent-primary-subtle: #EDEDFF;
  --accent-primary-glow: rgba(99, 91, 255, 0.15);

  /* Semantic colors */
  --green: #10B981;
  --green-text: #057A55;
  --green-bg: #ECFDF5;
  --green-border: #A7F3D0;

  --red: #EF4444;
  --red-text: #B91C1C;
  --red-bg: #FEF2F2;
  --red-border: #FECACA;

  --amber: #F59E0B;
  --amber-text: #B45309;
  --amber-bg: #FFFBEB;
  --amber-border: #FDE68A;

  --blue: #3B82F6;
  --blue-text: #1D4ED8;
  --blue-bg: #EFF6FF;
  --blue-border: #BFDBFE;

  --purple: #8B5CF6;
  --purple-text: #6D28D9;
  --purple-bg: #F5F3FF;
  --purple-border: #DDD6FE;

  /* Category colors */
  --cat-engineering: #0EA5E9;
  --cat-engineering-bg: #F0F9FF;
  --cat-product: #8B5CF6;
  --cat-product-bg: #F5F3FF;
  --cat-sales: #10B981;
  --cat-sales-bg: #ECFDF5;
  --cat-ops: #F59E0B;
  --cat-ops-bg: #FFFBEB;
  --cat-finance: #EF4444;
  --cat-finance-bg: #FEF2F2;

  /* Team colors */
  --team-alpha: #FF6B6B;
  --team-beta: #2DD4BF;
  --team-gamma: #38BDF8;
  --team-delta: #A3E635;
  --team-omega: #FBBF24;

  --shadow-sm: 0 1px 2px rgba(26, 29, 46, 0.05);
  --shadow-md: 0 4px 16px rgba(26, 29, 46, 0.08);
  --shadow-lg: 0 8px 32px rgba(26, 29, 46, 0.12);
  --shadow-card: 0 1px 3px rgba(26, 29, 46, 0.05), 0 0 0 1px rgba(26, 29, 46, 0.03);
  --shadow-glow: 0 0 20px var(--accent-primary-glow);

  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;
}

/* ===========================================
   Reset & Base
   =========================================== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  background: var(--bg-base);
  color: var(--text-primary);
  min-height: 100vh;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}

#app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* ===========================================
   Buttons
   =========================================== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 20px;
  border: none;
  border-radius: var(--radius-md);
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.15s ease;
  text-decoration: none;
  line-height: 1.4;
  font-family: inherit;
}

.btn:disabled {
  opacity: 0.45;
  cursor: not-allowed;
}

.btn-primary {
  background: var(--accent-primary);
  color: white;
  box-shadow: 0 2px 8px var(--accent-primary-glow);
}

.btn-primary:hover:not(:disabled) {
  background: var(--accent-primary-hover);
  box-shadow: 0 4px 16px var(--accent-primary-glow);
  transform: translateY(-1px);
}

.btn-secondary {
  background: var(--bg-surface-raised);
  color: var(--text-primary);
  border: 1px solid var(--border-default);
}

.btn-secondary:hover:not(:disabled) {
  border-color: var(--accent-primary);
  color: var(--accent-primary);
}

.btn-ghost {
  background: transparent;
  color: var(--text-secondary);
}

.btn-ghost:hover {
  color: var(--accent-primary);
}

.btn-text {
  background: transparent;
  color: var(--text-secondary);
  padding: 6px 12px;
}

.btn-text:hover {
  color: var(--accent-primary);
}

.btn-lg {
  padding: 14px 28px;
  font-size: 15px;
  border-radius: var(--radius-lg);
}

.btn-large {
  padding: 14px 28px;
  font-size: 15px;
  border-radius: var(--radius-lg);
}

/* ===========================================
   Inputs
   =========================================== */
input, textarea {
  background: var(--bg-surface);
  border: 2px solid var(--border-default);
  border-radius: var(--radius-md);
  padding: 10px 16px;
  font-size: 14px;
  color: var(--text-primary);
  width: 100%;
  font-family: inherit;
  transition: border-color 0.15s;
}

input:focus, textarea:focus {
  outline: none;
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 3px var(--accent-primary-glow);
}

input::placeholder, textarea::placeholder {
  color: var(--text-muted);
}

/* ===========================================
   Badge
   =========================================== */
.badge {
  font-size: 10px;
  font-weight: 700;
  padding: 2px 7px;
  border-radius: 6px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.badge-bot {
  background: var(--bg-overlay);
  color: var(--text-muted);
}

.badge-you {
  background: var(--accent-primary);
  color: white;
}

/* ===========================================
   Home Screen
   =========================================== */
.home-screen {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 40px 20px;
}

.game-logo {
  font-size: 52px;
  font-weight: 900;
  letter-spacing: -2px;
  margin-bottom: 6px;
}

.game-logo .logo-esop {
  color: var(--text-primary);
}

.game-logo .logo-wars {
  background: linear-gradient(135deg, var(--accent-primary), #FF6B6B);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.game-tagline {
  font-size: 16px;
  color: var(--text-muted);
  font-weight: 500;
  margin-bottom: 48px;
}

.home-actions {
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 100%;
  max-width: 340px;
}

.join-form {
  display: flex;
  gap: 8px;
}

.input-code {
  flex: 1;
  background: var(--bg-surface);
  border: 2px solid var(--border-default);
  border-radius: var(--radius-md);
  padding: 10px 16px;
  font-size: 20px;
  font-family: 'Inter', monospace;
  text-align: center;
  letter-spacing: 8px;
  color: var(--text-primary);
  text-transform: uppercase;
  font-weight: 800;
}

.input-code::placeholder {
  color: var(--text-muted);
  letter-spacing: 4px;
  font-size: 14px;
  font-weight: 500;
}

.input-code:focus {
  outline: none;
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 3px var(--accent-primary-glow);
}

.home-divider {
  display: flex;
  align-items: center;
  gap: 12px;
  color: var(--text-muted);
  font-size: 12px;
  font-weight: 600;
  margin: 4px 0;
}

.home-divider::before, .home-divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: var(--border-subtle);
}

.home-links {
  display: flex;
  justify-content: center;
  gap: 24px;
  margin-top: 8px;
}

.home-links a {
  font-size: 13px;
  color: var(--text-muted);
  text-decoration: none;
  font-weight: 600;
  cursor: pointer;
}

.home-links a:hover {
  color: var(--accent-primary);
}

/* ===========================================
   Lobby Screen
   =========================================== */
.lobby-screen {
  max-width: 700px;
  margin: 0 auto;
  padding: 40px 20px;
}

.lobby-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 32px;
}

.lobby-header h2 {
  font-size: 20px;
  font-weight: 800;
}

.lobby-code {
  font-family: 'Inter', monospace;
  font-size: 18px;
  letter-spacing: 4px;
  font-weight: 900;
  color: var(--accent-primary);
}

.lobby-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  margin-bottom: 32px;
}

.lobby-section-title {
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--text-muted);
  margin-bottom: 12px;
}

.team-slots {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.team-slot {
  background: var(--bg-surface);
  border: 2px solid var(--border-default);
  border-radius: var(--radius-md);
  padding: 14px;
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  transition: all 0.15s;
}

.team-slot:hover:not(.taken) {
  border-color: var(--accent-primary);
}

.team-slot.selected {
  border-color: var(--accent-primary);
  background: var(--accent-primary-subtle);
  box-shadow: var(--shadow-glow);
}

.team-slot.taken {
  opacity: 0.5;
  cursor: not-allowed;
}

.team-color-dot {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  flex-shrink: 0;
}

.team-slot-name {
  font-weight: 700;
  font-size: 14px;
  flex: 1;
}

.team-slot-status {
  font-size: 12px;
  color: var(--text-muted);
  font-weight: 600;
}

.team-slot-status.you {
  color: var(--accent-primary);
  font-weight: 800;
}

.players-panel {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 16px;
}

.player-list-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 14px;
  background: var(--bg-surface-raised);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  margin-bottom: 6px;
  font-size: 14px;
}

.player-list-name {
  flex: 1;
  font-weight: 600;
}

.host-badge,
.badge-host {
  background: var(--amber-bg);
  color: var(--amber-text);
  border: 1px solid var(--amber-border);
  font-size: 10px;
  font-weight: 700;
  padding: 2px 7px;
  border-radius: 6px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.status-badge {
  background: var(--bg-surface-raised);
  color: var(--text-muted);
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 12px;
}

.lobby-footer {
  text-align: center;
}

.lobby-hint {
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 12px;
  font-weight: 500;
}

.lobby-start-buttons {
  display: flex;
  gap: 10px;
  justify-content: center;
}

/* ===========================================
   Game Screen
   =========================================== */
.game-screen {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* ===========================================
   Game Header (replaces phase breadcrumbs)
   =========================================== */
.game-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 20px;
  background: var(--bg-surface);
  border-bottom: 1px solid var(--border-subtle);
}

.header-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.header-exit {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-muted);
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 4px;
  background: none;
  border: none;
  cursor: pointer;
  font-family: inherit;
  padding: 4px 8px;
  border-radius: var(--radius-sm);
  transition: all 0.15s;
}

.header-exit:hover {
  color: var(--accent-primary);
  background: var(--accent-primary-subtle);
}

.header-room-code {
  font-size: 12px;
  font-family: 'Inter', monospace;
  font-weight: 700;
  color: var(--text-muted);
  background: var(--bg-surface-raised);
  padding: 4px 10px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border-subtle);
  letter-spacing: 2px;
}

.header-center {
  display: flex;
  align-items: center;
  gap: 10px;
}

.header-phase {
  font-size: 14px;
  font-weight: 800;
  color: var(--accent-primary);
}

.header-phase-detail {
  font-size: 12px;
  color: var(--text-muted);
  font-weight: 500;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 8px;
}

.spectator-badge {
  font-size: 10px;
  font-weight: 700;
  padding: 3px 8px;
  border-radius: 6px;
  background: var(--purple-bg);
  color: var(--purple-text);
  border: 1px solid var(--purple-border);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.btn-rules {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--accent-primary-subtle);
  border: 1px solid transparent;
  color: var(--accent-primary);
  font-size: 14px;
  font-weight: 800;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s;
  font-family: inherit;
}

.btn-rules:hover {
  background: var(--accent-primary);
  color: white;
  box-shadow: var(--shadow-glow);
}

/* Speed controls */
.speed-controls {
  display: flex;
  gap: 4px;
}

.btn-speed {
  padding: 4px 10px;
  font-size: 11px;
  font-weight: 700;
  border-radius: 6px;
  border: 1px solid var(--border-default);
  background: var(--bg-surface-raised);
  color: var(--text-secondary);
  cursor: pointer;
  font-family: inherit;
  transition: all 0.15s;
}

.btn-speed:hover {
  border-color: var(--accent-primary);
  color: var(--accent-primary);
}

.btn-speed.active {
  background: var(--accent-primary);
  color: white;
  border-color: var(--accent-primary);
}

/* ===========================================
   Game Layout
   =========================================== */
.game-layout {
  display: grid;
  grid-template-columns: 230px 1fr;
  flex: 1;
  min-height: calc(100vh - 50px);
}

/* ===========================================
   Teams Sidebar
   =========================================== */
.teams-sidebar {
  background: var(--bg-surface);
  border-right: 1px solid var(--border-subtle);
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.sidebar-label {
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--text-muted);
  padding: 0 4px 8px;
}

.sidebar-team {
  background: var(--bg-surface-raised);
  border-radius: var(--radius-md);
  padding: 12px;
  border-left: 3px solid var(--team-color, var(--accent-primary));
  transition: all 0.15s;
}

.sidebar-team.my-team {
  background: var(--accent-primary-subtle);
  border-left-color: var(--accent-primary);
  box-shadow: inset 0 0 0 1px var(--accent-primary-glow);
}

.sidebar-team.disqualified {
  opacity: 0.5;
}

.sidebar-team-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}

.sidebar-team-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}

.sidebar-team-name,
.sidebar-team .team-name {
  font-size: 13px;
  font-weight: 800;
}

.bot-badge {
  background: var(--bg-overlay);
  color: var(--text-muted);
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.sidebar-valuation,
.team-valuation {
  font-size: 17px;
  font-weight: 900;
  color: var(--green);
  margin-bottom: 4px;
}

.sidebar-meta {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  color: var(--text-muted);
  font-weight: 500;
}

.team-esop,
.team-employees {
  font-size: 11px;
  color: var(--text-muted);
  font-weight: 500;
}

.sidebar-employees {
  display: flex;
  gap: 5px;
  margin-top: 8px;
}

.emp-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

.sidebar-wildcard {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 10px;
  font-weight: 700;
  color: var(--amber);
  margin-top: 6px;
}

.sidebar-wildcard.used {
  color: var(--text-muted);
  text-decoration: line-through;
}

/* ===========================================
   Mobile Team Strip
   =========================================== */
.mobile-team-strip {
  display: none;
  gap: 8px;
  padding: 10px 12px;
  overflow-x: auto;
  background: var(--bg-surface);
  border-bottom: 1px solid var(--border-subtle);
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}

.mobile-team-strip::-webkit-scrollbar {
  display: none;
}

.mobile-team-chip {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: var(--bg-surface-raised);
  border-radius: var(--radius-sm);
  border-left: 3px solid var(--team-color, var(--accent-primary));
  min-width: max-content;
  transition: all 0.15s;
}

.mobile-team-chip.my-team {
  background: var(--accent-primary-subtle);
  border-left-color: var(--accent-primary);
}

.mobile-team-chip-name {
  font-size: 12px;
  font-weight: 700;
}

.mobile-team-chip-val {
  font-size: 12px;
  font-weight: 800;
  color: var(--green);
}

/* ===========================================
   Game Main Content
   =========================================== */
.game-main {
  padding: 32px;
  overflow-y: auto;
}

/* ===========================================
   Phase Intro Banner
   =========================================== */
.phase-intro {
  background: var(--accent-primary-subtle);
  border: 1px solid var(--accent-primary-glow);
  border-left: 4px solid var(--accent-primary);
  border-radius: var(--radius-lg);
  padding: 20px 24px;
  margin-bottom: 28px;
  display: flex;
  align-items: flex-start;
  gap: 16px;
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.phase-intro-icon {
  width: 42px;
  height: 42px;
  border-radius: var(--radius-md);
  background: var(--accent-primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  flex-shrink: 0;
  box-shadow: 0 2px 8px var(--accent-primary-glow);
}

.phase-intro-text h3 {
  font-size: 15px;
  font-weight: 800;
  margin-bottom: 4px;
}

.phase-intro-text p {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.6;
}

.phase-intro-dismiss {
  margin-left: auto;
  font-size: 20px;
  color: var(--text-muted);
  cursor: pointer;
  background: none;
  border: none;
  padding: 0 4px;
  font-weight: 300;
  font-family: inherit;
  flex-shrink: 0;
}

.phase-intro-dismiss:hover {
  color: var(--text-primary);
}

/* ===========================================
   Action Hint
   =========================================== */
.action-hint {
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 24px;
  line-height: 1.6;
}

.action-hint strong {
  color: var(--accent-primary);
  font-weight: 700;
}

/* ===========================================
   Tooltip
   =========================================== */
.tooltip-trigger {
  position: relative;
  cursor: help;
}

.tooltip-trigger .tooltip-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: var(--accent-primary-subtle);
  border: 1px solid var(--accent-primary-glow);
  font-size: 9px;
  font-weight: 800;
  color: var(--accent-primary);
  margin-left: 4px;
  vertical-align: middle;
}

.tooltip-content {
  display: none;
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--text-primary);
  color: var(--bg-base);
  font-size: 12px;
  font-weight: 600;
  padding: 8px 14px;
  border-radius: var(--radius-sm);
  white-space: nowrap;
  z-index: 10;
  margin-bottom: 6px;
  box-shadow: var(--shadow-lg);
}

.tooltip-trigger:hover .tooltip-content {
  display: block;
}

/* ===========================================
   Registration Phase
   =========================================== */
.registration-phase {
  max-width: 600px;
  margin: 0 auto;
}

.registration-phase h2 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 8px;
}

.phase-description {
  color: var(--text-secondary);
  margin-bottom: 24px;
  font-size: 14px;
}

.registration-form {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: var(--shadow-card);
}

.form-group {
  margin-bottom: 16px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  font-size: 13px;
  color: var(--text-secondary);
}

.registration-complete {
  background: var(--green-bg);
  border: 1px solid var(--green-border);
  border-radius: var(--radius-lg);
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}

.registration-complete h3 {
  color: var(--green-text);
  margin-bottom: 12px;
}

.registration-status h3 {
  margin-bottom: 12px;
  color: var(--text-muted);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
}

.registration-team {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  margin-bottom: 8px;
}

.team-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  flex-shrink: 0;
}

.registration-team .team-name {
  flex: 1;
  font-weight: 600;
  font-size: 14px;
}

.registration-badge {
  font-size: 10px;
  font-weight: 700;
  padding: 3px 8px;
  border-radius: 6px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.registration-team.registered .registration-badge {
  background: var(--green-bg);
  color: var(--green-text);
  border: 1px solid var(--green-border);
}

.registration-team.pending .registration-badge {
  background: var(--bg-surface-raised);
  color: var(--text-muted);
}

/* ===========================================
   Setup Phase
   =========================================== */
.setup-phase {
  max-width: 800px;
  margin: 0 auto;
}

.setup-phase h2 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 8px;
}

.turn-indicator {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 16px 24px;
  margin-bottom: 24px;
  text-align: center;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-secondary);
}

.turn-indicator.your-turn {
  background: var(--accent-primary);
  color: white;
  border-color: var(--accent-primary);
  animation: pulse 2s infinite;
  box-shadow: 0 4px 16px var(--accent-primary-glow);
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.85; }
}

.setup-hand {
  margin-bottom: 24px;
}

.setup-hand h3 {
  margin-bottom: 16px;
  color: var(--text-muted);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

.setup-card {
  background: var(--bg-surface);
  border: 2px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: 16px;
  transition: all 0.15s ease;
  box-shadow: var(--shadow-card);
}

.setup-card.segment {
  border-left: 4px solid var(--purple);
}

.setup-card.idea {
  border-left: 4px solid var(--blue);
}

.setup-card.clickable {
  cursor: pointer;
}

.setup-card.clickable:hover {
  border-color: var(--accent-primary);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.setup-card.selectable {
  cursor: pointer;
}

.setup-card.selectable:hover {
  border-color: var(--accent-primary);
}

.setup-card.selected {
  border-color: var(--green);
  background: var(--green-bg);
}

.setup-card.locked {
  border-color: var(--green);
  opacity: 0.9;
}

.card-type {
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--text-muted);
  margin-bottom: 8px;
}

.card-name {
  font-size: 16px;
  font-weight: 800;
  margin-bottom: 6px;
}

.card-desc {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.5;
}

.card-action {
  margin-top: 12px;
  font-size: 12px;
  color: var(--accent-primary);
  font-weight: 700;
}

.draw-options {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 24px;
  box-shadow: var(--shadow-card);
}

.draw-options h3 {
  margin-bottom: 16px;
  color: var(--text-muted);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
}

.draw-buttons {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

/* ===========================================
   Setup Lock Phase
   =========================================== */
.setup-lock-phase {
  max-width: 900px;
  margin: 0 auto;
}

.setup-lock-phase h2 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 8px;
}

.lock-selection {
  margin-bottom: 32px;
}

.selection-group {
  margin-bottom: 24px;
}

.selection-group h3 {
  margin-bottom: 16px;
  color: var(--text-muted);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
}

#lock-btn {
  margin-top: 16px;
}

.lock-complete {
  text-align: center;
  background: var(--green-bg);
  border: 1px solid var(--green-border);
  border-radius: var(--radius-lg);
  padding: 32px;
  margin-bottom: 32px;
}

.lock-complete h3 {
  color: var(--green-text);
  margin-bottom: 24px;
}

.locked-cards {
  display: flex;
  justify-content: center;
  gap: 24px;
  margin-bottom: 16px;
}

.bonus-display {
  margin-top: 16px;
  padding: 10px 18px;
  background: var(--amber-bg);
  color: var(--amber-text);
  border: 1px solid var(--amber-border);
  border-radius: var(--radius-md);
  font-weight: 700;
  font-size: 13px;
  display: inline-block;
}

.teams-progress {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 24px;
  box-shadow: var(--shadow-card);
}

.teams-progress h3 {
  margin-bottom: 16px;
  color: var(--text-muted);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
}

.team-progress-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: var(--bg-surface-raised);
  border-radius: var(--radius-md);
  margin-bottom: 6px;
}

.team-progress-item .status {
  margin-left: auto;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-muted);
}

.team-progress-item.locked .status {
  color: var(--green-text);
}

/* ===========================================
   Setup Summary Phase
   =========================================== */
.setup-summary {
  max-width: 1000px;
  margin: 0 auto;
}

.setup-summary h2 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 8px;
}

.summary-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 16px;
  margin-top: 24px;
}

.team-summary {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 20px;
  border-top: 3px solid var(--team-color, var(--accent-primary));
  box-shadow: var(--shadow-card);
}

.team-summary .team-header {
  font-size: 16px;
  font-weight: 800;
  margin-bottom: 8px;
}

.team-summary .team-problem {
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 16px;
  font-style: italic;
  line-height: 1.5;
}

.team-summary .team-setup {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}

.segment-badge {
  background: var(--purple-bg);
  color: var(--purple-text);
  border: 1px solid var(--purple-border);
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 700;
}

.idea-badge {
  background: var(--blue-bg);
  color: var(--blue-text);
  border: 1px solid var(--blue-border);
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 700;
}

.bonus-badge {
  background: var(--amber-bg);
  color: var(--amber-text);
  border: 1px solid var(--amber-border);
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 700;
}

.summary-note {
  text-align: center;
  color: var(--text-secondary);
  margin-top: 24px;
  font-style: italic;
  font-size: 14px;
}

.summary-actions {
  text-align: center;
  margin-top: 32px;
}

/* ===========================================
   Auction Phase
   =========================================== */
.auction-phase {
  max-width: 640px;
  margin: 0 auto;
}

.auction-phase h2 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 8px;
}

.auction-card {
  margin: 24px 0;
}

.employee-card {
  background: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-xl);
  padding: 32px;
  text-align: center;
  box-shadow: var(--shadow-card);
  position: relative;
  overflow: hidden;
}

.employee-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--accent-primary), var(--cat-engineering));
}

.emp-category-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 1px;
  text-transform: uppercase;
  padding: 5px 14px;
  border-radius: 20px;
  margin-bottom: 16px;
}

.emp-category-badge.engineering {
  background: var(--cat-engineering-bg);
  color: var(--cat-engineering);
  border: 1px solid rgba(14, 165, 233, 0.2);
}

.emp-category-badge.product {
  background: var(--cat-product-bg);
  color: var(--cat-product);
  border: 1px solid rgba(139, 92, 246, 0.2);
}

.emp-category-badge.sales {
  background: var(--cat-sales-bg);
  color: var(--cat-sales);
  border: 1px solid rgba(16, 185, 129, 0.2);
}

.emp-category-badge.ops {
  background: var(--cat-ops-bg);
  color: var(--cat-ops);
  border: 1px solid rgba(245, 158, 11, 0.2);
}

.emp-category-badge.finance {
  background: var(--cat-finance-bg);
  color: var(--cat-finance);
  border: 1px solid rgba(239, 68, 68, 0.2);
}

.employee-category {
  font-size: 11px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--accent-primary);
  margin-bottom: 8px;
}

.employee-name,
.employee-card > .emp-name {
  font-size: 24px;
  font-weight: 900;
  margin-bottom: 4px;
}

.employee-role,
.employee-card > .emp-role {
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 24px;
  font-weight: 500;
}

/* Skill bars */
.skill-bar-section {
  background: var(--bg-surface-raised);
  border-radius: var(--radius-lg);
  padding: 20px;
  text-align: left;
}

.skill-row {
  margin-bottom: 14px;
}

.skill-row:last-child {
  margin-bottom: 0;
}

.skill-label {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  font-weight: 700;
  margin-bottom: 8px;
}

.skill-label span:first-child {
  color: var(--text-secondary);
}

.skill-label span:last-child {
  color: var(--text-primary);
}

.skill-bar-track {
  height: 8px;
  background: var(--border-subtle);
  border-radius: 4px;
  overflow: hidden;
}

.skill-bar-fill {
  height: 100%;
  border-radius: 4px;
  background: var(--accent-primary);
  transition: width 0.4s ease;
}

.skill-bar-fill.hard {
  background: linear-gradient(90deg, var(--cat-engineering), #38BDF8);
}

.soft-skill-pills {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 14px;
}

.soft-pill {
  font-size: 12px;
  font-weight: 600;
  padding: 5px 12px;
  border-radius: 20px;
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  color: var(--text-secondary);
}

.soft-pill strong {
  color: var(--accent-primary);
  font-weight: 800;
}

.employee-stats {
  background: var(--bg-surface-raised);
  border-radius: var(--radius-lg);
  padding: 16px;
}

.stat {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  border-bottom: 1px solid var(--border-subtle);
}

.stat:last-child {
  border-bottom: none;
}

.stat-label {
  color: var(--text-secondary);
  font-size: 13px;
}

.stat-value {
  font-weight: 700;
  font-size: 13px;
}

.soft-skills {
  margin-top: 12px;
}

.soft-skill {
  display: flex;
  justify-content: space-between;
  padding: 4px 0;
  font-size: 13px;
  color: var(--text-secondary);
}

.soft-skill span:last-child {
  color: var(--text-primary);
  font-weight: 600;
}

/* Bid area */
.bid-status {
  text-align: center;
  margin-bottom: 24px;
}

.current-bid {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 14px;
  border-radius: var(--radius-md);
  font-size: 14px;
  font-weight: 600;
  background: var(--green-bg);
  border: 1px solid var(--green-border);
  color: var(--green-text);
}

.current-bid strong {
  font-size: 20px;
  font-weight: 900;
}

.no-bid {
  padding: 14px;
  border-radius: var(--radius-md);
  background: var(--bg-surface-raised);
  border: 1px solid var(--border-subtle);
  color: var(--text-muted);
  font-weight: 600;
}

.bid-controls {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-xl);
  padding: 24px;
  text-align: center;
  box-shadow: var(--shadow-card);
}

.bid-increment-buttons,
.bid-inc-btns {
  display: flex;
  gap: 6px;
  justify-content: center;
  margin-bottom: 16px;
}

.bid-increment-buttons .btn {
  padding: 8px 14px;
  font-size: 13px;
  font-weight: 700;
}

.bid-inc-btn {
  padding: 8px 14px;
  font-size: 13px;
  font-weight: 700;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border-default);
  background: var(--bg-surface-raised);
  color: var(--text-secondary);
  cursor: pointer;
  font-family: inherit;
  transition: all 0.15s;
}

.bid-inc-btn:hover {
  border-color: var(--accent-primary);
  color: var(--accent-primary);
  background: var(--accent-primary-subtle);
}

.bid-input-wrap {
  display: flex;
  align-items: center;
  background: var(--bg-surface-raised);
  border: 2px solid var(--border-default);
  border-radius: var(--radius-md);
  padding: 0 12px;
  transition: border-color 0.15s;
  justify-content: center;
  margin: 16px auto;
  width: fit-content;
}

.bid-input-wrap:focus-within {
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 3px var(--accent-primary-glow);
}

.bid-input-wrap input {
  width: 60px;
  border: none;
  background: transparent;
  text-align: center;
  font-size: 20px;
  font-weight: 900;
  color: var(--text-primary);
  padding: 8px 0;
  font-family: inherit;
}

.bid-input-wrap input:focus {
  outline: none;
}

.bid-input-wrap .suffix {
  font-size: 14px;
  color: var(--text-muted);
  font-weight: 700;
}

.bid-actions {
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-bottom: 16px;
}

.bid-input-group {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
  margin-bottom: 16px;
}

.bid-input-group input {
  width: 100px;
  text-align: center;
  font-size: 20px;
  font-weight: 900;
  padding: 10px;
  -moz-appearance: textfield;
}

.bid-input-group input::-webkit-outer-spin-button,
.bid-input-group input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.bid-suffix {
  font-size: 16px;
  color: var(--text-muted);
  font-weight: 700;
}

.bid-buttons {
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-bottom: 16px;
}

.esop-remaining {
  font-size: 12px;
  color: var(--text-muted);
  font-weight: 600;
}

.cannot-bid {
  background: var(--bg-surface-raised);
  padding: 24px;
  border-radius: var(--radius-lg);
  text-align: center;
  color: var(--text-muted);
  font-weight: 600;
}

.auction-progress {
  text-align: center;
  margin-top: 24px;
  font-size: 12px;
  color: var(--text-muted);
  font-weight: 600;
}

.progress-track {
  height: 4px;
  background: var(--border-subtle);
  border-radius: 2px;
  margin-top: 8px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent-primary), #FF6B6B);
  border-radius: 2px;
  transition: width 0.3s;
}

.auction-complete {
  text-align: center;
  padding: 60px 20px;
  font-size: 22px;
  font-weight: 800;
  color: var(--green-text);
}

/* ===========================================
   Auction Summary Phase
   =========================================== */
.auction-summary {
  max-width: 1000px;
  margin: 0 auto;
}

.auction-summary h2 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 8px;
}

.team-summary.disqualified {
  opacity: 0.6;
}

.disqualified-badge {
  background: var(--red-bg);
  color: var(--red-text);
  border: 1px solid var(--red-border);
  padding: 8px 16px;
  border-radius: var(--radius-md);
  font-weight: 700;
  text-align: center;
  font-size: 13px;
}

.employees-list {
  margin-bottom: 12px;
}

.employee-mini {
  display: flex;
  justify-content: space-between;
  padding: 8px 12px;
  background: var(--bg-surface-raised);
  border-radius: var(--radius-sm);
  margin-bottom: 4px;
  font-size: 13px;
}

.emp-name {
  font-weight: 600;
}

.emp-cost {
  color: var(--green-text);
  font-weight: 700;
}

.team-stats {
  font-size: 12px;
  color: var(--text-secondary);
  text-align: center;
  padding-top: 8px;
  border-top: 1px solid var(--border-subtle);
}

/* ===========================================
   Market Round Phase
   =========================================== */
.market-round {
  max-width: 720px;
  margin: 0 auto;
}

.market-round h2 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 8px;
}

.market-layout {
  max-width: 720px;
  margin: 0 auto;
}

/* Market card reveal */
.market-card-reveal {
  background: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-xl);
  padding: 32px;
  text-align: center;
  box-shadow: var(--shadow-md);
  margin-bottom: 28px;
  position: relative;
  overflow: hidden;
}

.market-card-reveal::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--amber), var(--red), var(--accent-primary));
}

.market-card-label {
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--amber);
  margin-bottom: 10px;
}

.market-card-name {
  font-size: 22px;
  font-weight: 900;
  margin-bottom: 8px;
}

.market-card-desc {
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 20px;
  max-width: 420px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
}

.market-modifiers {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: center;
}

.modifier-pill {
  font-size: 12px;
  font-weight: 700;
  padding: 5px 12px;
  border-radius: 20px;
}

.modifier-pill.positive {
  background: var(--green-bg);
  color: var(--green-text);
  border: 1px solid var(--green-border);
}

.modifier-pill.negative {
  background: var(--red-bg);
  color: var(--red-text);
  border: 1px solid var(--red-border);
}

/* Wildcard phase */
.wildcard-phase {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: var(--shadow-card);
}

.wildcard-phase h3 {
  margin-bottom: 16px;
  font-size: 16px;
  font-weight: 800;
}

.wildcard-context,
.wildcard-prompt {
  color: var(--text-secondary);
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.6;
}

.wildcard-options {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 12px;
  margin-bottom: 24px;
}

.wildcard-option {
  background: var(--bg-surface-raised);
  border: 2px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: 20px;
  cursor: pointer;
  transition: all 0.15s ease;
  text-align: center;
}

.wildcard-option:hover {
  border-color: var(--accent-primary);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.wildcard-option[data-choice="double-down"]:hover {
  border-color: var(--amber);
}

.wildcard-option[data-choice="shield"]:hover {
  border-color: var(--green);
}

.wildcard-option.pass {
  opacity: 0.7;
}

.wildcard-name {
  font-size: 16px;
  font-weight: 800;
  margin-bottom: 8px;
}

.wildcard-desc {
  font-size: 13px;
  color: var(--text-secondary);
}

.wildcard-used-note {
  color: var(--text-muted);
  font-style: italic;
  margin-bottom: 16px;
  font-size: 14px;
}

.wildcard-waiting {
  text-align: center;
  padding: 24px;
  color: var(--text-secondary);
  font-style: italic;
}

.wildcard-status {
  background: var(--bg-surface-raised);
  border-radius: var(--radius-md);
  padding: 16px;
}

.wildcard-status-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid var(--border-subtle);
}

.wildcard-status-item:last-child {
  border-bottom: none;
}

.wildcard-status-item .status {
  margin-left: auto;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-muted);
}

.wildcard-status-item.selected .status {
  color: var(--green-text);
}

.market-draw {
  text-align: center;
  padding: 40px;
}

/* Results */
.market-results {
  margin-top: 24px;
}

.market-results h3,
.results-heading {
  margin-bottom: 12px;
  font-size: 13px;
  font-weight: 800;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.results-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 12px;
  margin-bottom: 24px;
}

.result-card {
  background: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: 18px;
  text-align: center;
  border-top: 3px solid var(--team-color, var(--accent-primary));
  box-shadow: var(--shadow-sm);
  transition: transform 0.15s;
}

.result-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.result-team,
.result-team-name {
  font-size: 13px;
  font-weight: 800;
  margin-bottom: 8px;
}

.result-change {
  font-size: 24px;
  font-weight: 900;
  margin-bottom: 2px;
}

.result-change.positive {
  color: var(--green);
}

.result-change.negative {
  color: var(--red);
}

.result-valuation,
.result-val {
  font-size: 12px;
  color: var(--text-muted);
  font-weight: 600;
}

.leader-badge {
  display: inline-block;
  margin-top: 8px;
  font-size: 10px;
  font-weight: 800;
  padding: 3px 10px;
  border-radius: 10px;
  background: var(--amber-bg);
  color: var(--amber-text);
  border: 1px solid var(--amber-border);
  letter-spacing: 0.5px;
}

/* ===========================================
   Secondary Drop Phase
   =========================================== */
.secondary-drop {
  max-width: 800px;
  margin: 0 auto;
}

.secondary-drop h2 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 8px;
}

.drop-selection {
  margin-bottom: 24px;
}

.drop-selection h3 {
  margin-bottom: 16px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--text-muted);
}

.employee-drop-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

.employee-drop-card {
  background: var(--bg-surface);
  border: 2px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: 16px;
  cursor: pointer;
  transition: all 0.15s ease;
  box-shadow: var(--shadow-card);
}

.employee-drop-card:hover {
  border-color: var(--red);
  transform: translateY(-2px);
}

.employee-drop-card.selected {
  border-color: var(--red);
  background: var(--red-bg);
}

.employee-hired-for {
  font-size: 12px;
  color: var(--green-text);
  font-weight: 600;
  margin-top: 8px;
}

.drop-complete {
  background: var(--green-bg);
  border: 1px solid var(--green-border);
  border-radius: var(--radius-lg);
  padding: 32px;
  text-align: center;
  margin-bottom: 24px;
}

.drop-status {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 24px;
  box-shadow: var(--shadow-card);
}

.drop-status h3 {
  margin-bottom: 16px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--text-muted);
}

.drop-status-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  background: var(--bg-surface-raised);
  border-radius: var(--radius-md);
  margin-bottom: 6px;
}

.drop-status-item .status {
  margin-left: auto;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-muted);
}

.drop-status-item.dropped .status {
  color: var(--green-text);
}

/* ===========================================
   Secondary Hire Phase
   =========================================== */
.secondary-hire {
  max-width: 640px;
  margin: 0 auto;
}

.secondary-hire h2 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 8px;
}

.secondary-complete {
  text-align: center;
  padding: 60px 20px;
}

.employee-card.secondary {
  border-color: var(--amber-border);
}

.employee-card.secondary::before {
  background: linear-gradient(90deg, var(--amber), var(--accent-primary));
}

/* ===========================================
   Exit Phase
   =========================================== */
.exit-phase {
  max-width: 700px;
  margin: 0 auto;
  text-align: center;
}

.exit-phase h2 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 8px;
}

/* Turn indicator */
.exit-turn-indicator {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 16px 24px;
  margin-bottom: 24px;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-secondary);
}

.exit-turn-indicator.your-turn {
  background: var(--accent-primary);
  color: white;
  border-color: var(--accent-primary);
  animation: pulse 2s infinite;
  box-shadow: 0 4px 16px var(--accent-primary-glow);
}

/* Face-down deck */
.exit-deck {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
  margin-bottom: 32px;
}

.exit-deck-card {
  width: 200px;
  height: 280px;
  perspective: 600px;
}

.exit-deck-card.face-down {
  cursor: default;
}

.exit-deck-back {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, var(--accent-primary) 0%, #8B5CF6 100%);
  border-radius: var(--radius-xl);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-lg);
}

.exit-deck-back::before {
  content: '';
  position: absolute;
  inset: 8px;
  border: 2px dashed rgba(255,255,255,0.3);
  border-radius: calc(var(--radius-xl) - 4px);
}

.exit-deck-icon {
  font-size: 64px;
  font-weight: 800;
  color: white;
  opacity: 0.6;
}

.exit-deck-label {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.7);
  font-weight: 500;
}

/* Drawn result card */
.exit-draw-area {
  margin-bottom: 32px;
}

.exit-drawn-result {
  margin-top: 24px;
}

.exit-drawn-result h3 {
  margin-bottom: 16px;
  color: var(--text-secondary);
}

.exit-card {
  background: var(--bg-surface);
  border: 3px solid var(--border-default);
  border-radius: var(--radius-xl);
  padding: 40px;
  max-width: 300px;
  margin: 0 auto;
  box-shadow: var(--shadow-lg);
}

.exit-card.drawn {
  animation: cardReveal 0.6s ease-out;
}

@keyframes cardReveal {
  0% {
    transform: scale(0.8) rotateY(90deg);
    opacity: 0;
  }
  50% {
    transform: scale(1.05) rotateY(0deg);
    opacity: 1;
  }
  100% {
    transform: scale(1) rotateY(0deg);
    opacity: 1;
  }
}

/* Multiplier color coding */
.exit-card.multiplier-high {
  border-color: var(--green);
  box-shadow: 0 0 30px rgba(16, 185, 129, 0.2);
}

.exit-card.multiplier-moderate {
  border-color: var(--amber);
  box-shadow: 0 0 30px rgba(245, 158, 11, 0.2);
}

.exit-card.multiplier-low {
  border-color: var(--red);
  box-shadow: 0 0 30px rgba(239, 68, 68, 0.2);
}

.exit-type {
  font-size: 20px;
  font-weight: 800;
  margin-bottom: 12px;
}

.exit-multiplier {
  font-size: 48px;
  font-weight: 900;
  margin-bottom: 12px;
  line-height: 1;
}

.multiplier-high .exit-type,
.multiplier-high .exit-multiplier {
  color: var(--green);
}

.multiplier-moderate .exit-type,
.multiplier-moderate .exit-multiplier {
  color: var(--amber);
}

.multiplier-low .exit-type,
.multiplier-low .exit-multiplier {
  color: var(--red);
}

.exit-desc {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.5;
  font-weight: 500;
}

/* Draw tracker */
.exit-tracker {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 24px;
  text-align: left;
  box-shadow: var(--shadow-card);
}

.exit-tracker h3 {
  margin-bottom: 16px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--text-muted);
}

.exit-tracker-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  background: var(--bg-surface-raised);
  border-radius: var(--radius-md);
  margin-bottom: 6px;
  transition: all 0.3s ease;
}

.exit-tracker-item.current {
  border: 1px solid var(--accent-primary);
  background: var(--accent-primary-subtle);
}

.exit-tracker-item.drawn {
  opacity: 0.9;
}

.exit-tracker-name {
  flex: 1;
  font-weight: 600;
  font-size: 14px;
}

.exit-tracker-result {
  font-weight: 700;
  font-size: 13px;
}

.exit-tracker-result.multiplier-high {
  color: var(--green);
}

.exit-tracker-result.multiplier-moderate {
  color: var(--amber);
}

.exit-tracker-result.multiplier-low {
  color: var(--red);
}

.exit-tracker-waiting {
  font-size: 13px;
  color: var(--text-muted);
  font-style: italic;
}

/* Exit layout (new mockup design) */
.exit-layout {
  max-width: 780px;
  margin: 0 auto;
  text-align: center;
}

.exit-card-back {
  width: 200px;
  height: 280px;
  background: linear-gradient(135deg, var(--accent-primary) 0%, #8B5CF6 100%);
  border-radius: var(--radius-xl);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: var(--shadow-lg);
  position: relative;
  overflow: hidden;
  margin: 0 auto;
}

.exit-card-back::before {
  content: '';
  position: absolute;
  inset: 8px;
  border: 2px dashed rgba(255,255,255,0.3);
  border-radius: calc(var(--radius-xl) - 4px);
}

.exit-card-back:hover {
  transform: scale(1.05);
  box-shadow: var(--shadow-glow);
}

.exit-card-back-label {
  color: white;
  font-size: 18px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 2px;
  text-align: center;
}

.exit-card-back-hint {
  color: rgba(255,255,255,0.7);
  font-size: 12px;
  font-weight: 500;
  margin-top: 6px;
  text-align: center;
}

.exit-card-revealed {
  width: 220px;
  height: 300px;
  background: var(--bg-surface);
  border: 3px solid var(--green);
  border-radius: var(--radius-xl);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 24px;
  box-shadow: 0 0 30px rgba(16, 185, 129, 0.2);
  margin: 0 auto;
  animation: cardReveal 0.6s ease-out;
}

.exit-name {
  font-size: 16px;
  font-weight: 800;
  margin-bottom: 12px;
}

.exit-multiplier.high { color: var(--green); }
.exit-multiplier.moderate { color: var(--amber); }
.exit-multiplier.low { color: var(--red); }

.exit-team-draws {
  display: flex;
  gap: 12px;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 28px;
}

.exit-team-draw {
  background: var(--bg-surface);
  border: 2px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: 12px 16px;
  text-align: center;
  min-width: 120px;
}

.exit-team-draw-name {
  font-size: 12px;
  font-weight: 700;
  margin-bottom: 4px;
}

.exit-team-draw-card {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-secondary);
}

.exit-team-draw-mult {
  font-size: 20px;
  font-weight: 900;
  margin-top: 2px;
}

/* ===========================================
   Winner Phase
   =========================================== */
.winner-phase {
  max-width: 720px;
  margin: 0 auto;
  text-align: center;
}

.winner-phase h2 {
  font-size: 36px;
  font-weight: 900;
  margin-bottom: 32px;
  background: linear-gradient(135deg, var(--accent-primary), #FF6B6B, var(--amber));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.winners {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 32px;
}

.winner-card {
  background: var(--bg-surface);
  border: 2px solid var(--border-default);
  border-radius: var(--radius-xl);
  padding: 32px 20px;
  box-shadow: var(--shadow-md);
  position: relative;
  overflow: hidden;
}

.winner-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
}

.winner-card.founder {
  border-color: var(--amber-border);
}

.winner-card.founder::before {
  background: linear-gradient(90deg, var(--amber), #FF6B6B);
}

.winner-card.employer {
  border-color: var(--green-border);
}

.winner-card.employer::before {
  background: linear-gradient(90deg, var(--green), var(--cat-engineering));
}

.winner-layout {
  max-width: 720px;
  margin: 0 auto;
  text-align: center;
}

.winner-title {
  font-size: 36px;
  font-weight: 900;
  margin-bottom: 36px;
  background: linear-gradient(135deg, var(--accent-primary), #FF6B6B, var(--amber));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.winner-cards {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 32px;
}

.winner-card-label {
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--text-muted);
  margin-bottom: 14px;
}

.winner-card-team {
  font-size: 22px;
  font-weight: 900;
  margin-bottom: 6px;
}

.winner-card-stat {
  font-size: 30px;
  font-weight: 900;
  margin-bottom: 6px;
}

.winner-card.founder .winner-card-stat {
  color: var(--amber);
}

.winner-card.employer .winner-card-stat {
  color: var(--green);
}

.winner-card-desc {
  font-size: 12px;
  color: var(--text-muted);
  font-weight: 500;
}

.standings {
  background: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-xl);
  padding: 24px;
  text-align: left;
  margin-bottom: 28px;
  box-shadow: var(--shadow-card);
}

.standings-title {
  font-size: 12px;
  font-weight: 800;
  color: var(--text-muted);
  margin-bottom: 14px;
  text-transform: uppercase;
  letter-spacing: 1.5px;
}

.standing-row {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 12px 14px;
  border-radius: var(--radius-md);
  margin-bottom: 4px;
  transition: background 0.15s;
}

.standing-row:first-of-type {
  background: var(--accent-primary-subtle);
}

.standing-rank {
  font-weight: 900;
  font-size: 14px;
  color: var(--text-muted);
  width: 28px;
}

.standing-row:first-of-type .standing-rank {
  color: var(--accent-primary);
}

.standing-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
}

.standing-name {
  flex: 1;
  font-weight: 700;
  font-size: 14px;
}

.standing-val {
  font-weight: 800;
  font-size: 14px;
  color: var(--green);
}

/* ===========================================
   Rules Modal
   =========================================== */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(26, 29, 46, 0.5);
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  backdrop-filter: blur(4px);
}

.modal {
  background: var(--bg-surface);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
  width: 100%;
  max-width: 640px;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px;
  border-bottom: 1px solid var(--border-subtle);
}

.modal-header h2 {
  font-size: 18px;
  font-weight: 800;
}

.modal-close {
  width: 32px;
  height: 32px;
  border: none;
  background: var(--bg-surface-raised);
  border-radius: var(--radius-sm);
  font-size: 18px;
  color: var(--text-muted);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s;
}

.modal-close:hover {
  background: var(--border-subtle);
  color: var(--text-primary);
}

.rules-nav {
  display: flex;
  gap: 4px;
  padding: 12px 24px;
  border-bottom: 1px solid var(--border-subtle);
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.rules-nav::-webkit-scrollbar {
  display: none;
}

.rules-nav-item {
  padding: 6px 14px;
  font-size: 12px;
  font-weight: 700;
  border-radius: 20px;
  cursor: pointer;
  white-space: nowrap;
  color: var(--text-muted);
  transition: all 0.15s;
}

.rules-nav-item:hover {
  background: var(--bg-surface-raised);
  color: var(--text-secondary);
}

.rules-nav-item.active {
  background: var(--accent-primary);
  color: white;
}

.modal-body {
  padding: 24px;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.rules-section {
  display: none;
}

.rules-section.active {
  display: block;
}

.rules-section h3 {
  font-size: 15px;
  font-weight: 800;
  margin-bottom: 8px;
  margin-top: 20px;
}

.rules-section h3:first-child {
  margin-top: 0;
}

.rules-section p {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.7;
  margin-bottom: 6px;
}

.rules-section p strong {
  color: var(--text-primary);
  font-weight: 700;
}

.about-modal {
  max-width: 480px;
}

.about-body {
  text-align: center;
}

.about-logo {
  font-size: 32px;
  font-weight: 900;
  margin-bottom: 4px;
}

.about-logo .logo-esop {
  color: var(--text-primary);
}

.about-logo .logo-wars {
  background: linear-gradient(135deg, var(--accent-primary), #FF6B6B);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.about-version {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 24px;
}

.about-desc {
  font-size: 15px;
  color: var(--text-secondary);
  line-height: 1.7;
  margin-bottom: 28px;
  max-width: 380px;
  margin-left: auto;
  margin-right: auto;
}

.about-credits {
  text-align: left;
}

.about-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 0;
  border-bottom: 1px solid var(--border-subtle);
}

.about-row:last-child {
  border-bottom: none;
}

.about-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--accent-primary);
}

.about-value {
  font-size: 14px;
  font-weight: 800;
  color: var(--text-primary);
}

/* ===========================================
   Toast Notifications
   =========================================== */
#toast-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.toast {
  padding: 12px 20px;
  border-radius: var(--radius-md);
  font-weight: 600;
  font-size: 14px;
  transform: translateX(120%);
  transition: transform 0.3s ease;
  max-width: 300px;
  box-shadow: var(--shadow-md);
}

.toast.show {
  transform: translateX(0);
}

.toast-success {
  background: var(--green-bg);
  color: var(--green-text);
  border: 1px solid var(--green-border);
}

.toast-error {
  background: var(--red-bg);
  color: var(--red-text);
  border: 1px solid var(--red-border);
}

.toast-warning {
  background: var(--amber-bg);
  color: var(--amber-text);
  border: 1px solid var(--amber-border);
}

/* ===========================================
   Responsive / Mobile
   =========================================== */

/* Tablet (<=900px) */
@media (max-width: 900px) {
  .game-layout {
    grid-template-columns: 1fr;
  }

  .teams-sidebar {
    display: none;
  }

  .winners {
    grid-template-columns: 1fr;
  }

  .lobby-grid {
    grid-template-columns: 1fr;
  }
}

/* Mobile (<=600px) */
@media (max-width: 600px) {
  body {
    overflow-x: hidden;
  }

  /* Home screen */
  .game-logo {
    font-size: 36px;
  }

  .game-tagline {
    font-size: 14px;
    margin-bottom: 32px;
  }

  .home-screen {
    min-height: 90vh;
    padding: 24px 16px;
  }

  .home-actions {
    max-width: 100%;
  }

  .input-code {
    letter-spacing: 4px;
    font-size: 16px;
    padding: 10px 12px;
    min-width: 0;
  }

  /* Header compact */
  .game-header {
    padding: 8px 12px;
  }

  .header-exit {
    font-size: 12px;
  }

  .header-room-code {
    font-size: 11px;
    padding: 3px 8px;
  }

  .header-phase {
    font-size: 13px;
  }

  .header-phase-detail {
    font-size: 11px;
  }

  /* Mobile team strip */
  .mobile-team-strip {
    display: flex !important;
  }

  /* Phase intro compact */
  .phase-intro {
    padding: 14px 16px;
    margin-bottom: 20px;
  }

  .phase-intro-icon {
    width: 32px;
    height: 32px;
    font-size: 16px;
  }

  .phase-intro-text h3 {
    font-size: 14px;
  }

  .phase-intro-text p {
    font-size: 12px;
  }

  /* Game main padding */
  .game-main {
    padding: 16px;
  }

  /* Employee card compact */
  .employee-card {
    padding: 20px;
    border-radius: var(--radius-lg);
  }

  .employee-name {
    font-size: 20px;
  }

  .employee-role {
    font-size: 13px;
    margin-bottom: 16px;
  }

  /* Bid area compact */
  .bid-controls {
    padding: 16px;
    border-radius: var(--radius-lg);
  }

  .bid-input-group input {
    width: 80px;
    font-size: 18px;
  }

  /* Results grid */
  .results-grid {
    grid-template-columns: 1fr 1fr;
    gap: 8px;
  }

  .result-card {
    padding: 12px;
  }

  .result-change {
    font-size: 18px;
  }

  .result-team {
    font-size: 12px;
  }

  /* Exit card compact */
  .exit-deck-card {
    width: 160px;
    height: 220px;
  }

  .exit-multiplier {
    font-size: 36px;
  }

  /* Winner compact */
  .winner-phase h2 {
    font-size: 28px;
    margin-bottom: 24px;
  }

  .winner-card {
    padding: 24px 16px;
  }

  .winner-team {
    font-size: 18px;
  }

  .winner-stat {
    font-size: 24px;
  }

  /* Lobby compact */
  .lobby-screen {
    padding: 20px 16px;
  }

  .lobby-header h2 {
    font-size: 17px;
  }

  .lobby-code {
    font-size: 15px;
  }

  .lobby-start-buttons {
    flex-direction: column;
  }

  .lobby-start-buttons .btn {
    width: 100%;
  }
}
